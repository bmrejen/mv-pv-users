<h2> Create User Form </h2>

<form>
 <fieldset>
  <legend>Type de compte</legend>
  <div class="checkbox-list" id="account-type">
    <div *ngFor="let account of fields.accounts ; trackBy: trackByFn">
      <input type="checkbox" [name]="account.label" [(ngModel)]="account.checked">{{ account.name }}
    </div>
  </div>
</fieldset>
<fieldset>
  <legend>Compte utilisateur</legend>
  <form #f="ngForm">
    <label for="male">M.</label>
    <input
    id="male"
    type="radio"
    value="male"
    name="civilite"
    [(ngModel)]="fields.civilites">
    <label for="female">Mme</label>
    <input
    id="female"
    type="radio"
    value="female"
    name="civilite"
    [(ngModel)]="fields.civilites">
  </form>
  <div *ngFor="let userField of fields.userFields ; trackBy: trackByFn">
   <label [for]="userField.name">{{ userField.label }}</label>
   <input [name]="userField.name" type=text>
 </div>
</fieldset>
<fieldset>
  <legend>SugarCRM</legend>
  <button (click)="handleClick($event, 'conseiller')">Ventes - Conseiller</button>
  <button (click)="handleClick($event, 'jm')">Ventes – Junior Manager</button>
  <button (click)="handleClick($event, 'manager')">Ventes - Manager</button>
  <button (click)="handleClick($event, 'assistant')">Ventes – Assistant de ventes</button>
  <button (click)="handleClick($event, 'qualite')">Agent Qualité</button>
  <button (click)="handleClick($event, 'compta')">Compta</button>
  <button (click)="handleClick($event, 'inactif')">Inactif</button>
  <div class="select">
    <div class="subtitle">Hérite les préférence de l'utilisateur</div>
    <select name="usertocopyhpfrom" [(ngModel)]="fields.userValue">
      <option
      *ngFor="let user of fields.userTemplates ; trackBy: trackByFn"
      [value]="user.value"
      (onChange)="selectTmp($event, user)"
      >{{ user.label }}</option>
    </select>
  </div>
  <div class="checkbox-list" id="sugar_role">
   <div class="subtitle">Role</div>
   <span *ngFor="let role of fields.roles ; trackBy: trackByFn">
    <input
    type="checkbox"
    [(ngModel)]="role.checked"
    [name]="sugarRole(role.name)"
    >{{ role.label }}
  </span>
</div>
<div class="checkbox-list" id="sugar_departement">
 <div class="subtitle">Service</div>
 <span *ngFor="let service of fields.services ; trackBy: trackByFn">
  <input
  [id]="service.id"
  type="checkbox"
  [(ngModel)]="service.checked"
  [name]="service.name">{{ service.name }}
  <span *ngIf="service.checked">{{ service.name }} IS CHECKED</span>
</span>
</div>
<div class="select">
 <div class="subtitle">Bureau</div>
 <select name="sugar_bureau"
 [(ngModel)]="fields.selectedBureau"
 >
 <option *ngFor="let bureau of fields.bureaux ; trackBy: trackByFn"
 [value]="bureau.value"
 >{{ bureau.label }}</option>
</select>
</div>
<div>Fonction</div>
<select
name="fonctions"
id="fonctions"
[(ngModel)]="fields.selectedFunction"
>
<option [ngValue]="null"></option>
<option
*ngFor="let func of fields.functions ; trackBy: trackByFn"
[ngValue]="func.value"
>{{ func.label }}</option>
</select>
<div>Equipes (Sugar)
  <fieldset>
    <legend>Equipe</legend>
    <div class="teams" *ngFor="let team of fields.teams ; trackBy: trackByFn">
      <label>
        <input
        type="checkbox"
        [(ngModel)]="team.checked"
        [id]="team.id"
        [name]="team.name"
        >{{ team.name }}
      </label>
    </div>
  </fieldset>
  <fieldset>
    <legend>
      Autres
    </legend>
    <div class="autres" >
      <div *ngFor="let autre of fields.autres ; trackBy: trackByFn">
        <label>
          <input
          [id]="autre.id"
          type="checkbox"
          [name]="autre.name"
          [(ngModel)]="autre.checked"> {{ autre.name }}
        </label>
      </div>
    </div>
  </fieldset>
  <fieldset>
    <legend>Destinations</legend>
    <span *ngFor="let dest of fields.destinations ; trackBy: trackByFn">
      <label>
        <input
        [name]="dest.name"
        type="checkbox"
        [(ngModel)]="dest.checked"
        >{{ dest.name }}  |
      </label>
    </span>

  </fieldset>
  <div class="select">
   <div class="subtitle">Manager</div>
   <select name="manager"
   [(ngModel)]="fields.managers"
   >
   <option *ngFor="let manager of fields.managers ; trackBy: trackByFn"
   [value]="manager.name"
   >{{ manager.name }}</option>
 </select>
</div>
<fieldset>
  <legend>Organisations</legend>
  <div class="orgas">
    <div *ngFor="let orga of fields.orgas ; trackBy: trackByFn">
      <label>
        <input
        [name]="orga.value"
        type="checkbox"
        [(ngModel)]="orga.checked"
        >{{ orga.label }}
      </label>
    </div>
  </div>
</fieldset>
</div>
<div>
 <label for=sugar_tourplan>Code User Tourplan</label>
 <input name=sugar_tourplan type=text>
</div>
<div>
  <label for="codeson">Code SON Galileo</label>
  <input
  id="codeson"
  name="galileo_sign_on_code_c"
  type="text"
  [(ngModel)]="fields.codeson">
</div>
<div>
  <label for="title">Title</label>
  <input
  id="title"
  name="title"
  type="text"
  [(ngModel)]="fields.title">
</div>
<form #g="ngForm">
  <label for="inactif">Compte inactif</label>
  <input type="checkbox"
  id="inactif"
  name="inactif"
  [(ngModel)]="fields.inactif"
  >
</form>
</fieldset>
<fieldset>
  <legend>Telephonie</legend>
  <div>
   <label for=phone_number>Phone Number</label>
   <input name=phone_number type=text>
 </div>
 <div>
   <label for=extension>Extension</label>
   <input name=extension type=text>
 </div>
 <div>
  <label for="codevad">Téléphonie a distance</label>
  <input
  id="codevad"
  name="is_vad_c"
  type="checkbox"
  [(ngModel)]="fields.codevad">
  <label for="outbound">Click to call</label>
  <input
  id="outbound"
  name="asterisk_outbound_c"
  type="checkbox"
  [(ngModel)]="fields.outbound">
  <label for="inbound">Notifications appels entrants</label>
  <input
  id="inbound"
  name="asterisk_inbound_c"
  type="checkbox"
  [(ngModel)]="fields.inbound">
</div>
</fieldset>
<fieldset>
  <legend>Google Apps</legend>
  <div class="select">
   <div class="subtitle">Organisation</div>
   <select name="org_unit">
    <option *ngFor="let orga of fields.orgas ; trackBy: trackByFn"
    [value]="orga.value">{{ orga.label }}</option>
  </select>
</div>
<div>
 <label for=google_group>Groupes - Séparer les noms de groupes par des ";" et ne pas mettre @planetveo.com>
 </label>
 <input name=google_group type=text>
</div>
</fieldset>
<input type=submit value="Créer l'utilisateur">
</form>
