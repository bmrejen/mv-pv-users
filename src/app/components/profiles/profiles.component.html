<div *ngIf="userTemplates != null && roles != null && services != null">
  <fieldset class="blue">
    <legend>Profiles SugarCRM</legend>
    <button (click)="handleClick($event, 'conseiller')">Ventes - Conseiller</button>
    <button (click)="handleClick($event, 'jm')">Ventes – Junior Manager</button>
    <button (click)="handleClick($event, 'manager')">Ventes - Manager</button>
    <button (click)="handleClick($event, 'assistant')">Ventes – Assistant de ventes</button>
    <button (click)="handleClick($event, 'qualite')">Agent Qualité</button>
    <button (click)="handleClick($event, 'compta')">Compta</button>
    <button (click)="handleClick($event, 'inactif')">Inactif</button>


    <div class="select subtitle">Hérite les préférence de l'utilisateur
      <select name="userToCopyHPfrom" [(ngModel)]="userValue">
        <option *ngFor="let user of userTemplates ; trackBy: trackByFn" [value]="user.value">
          {{ userTemplates.indexOf(user)+1 }}. {{ user.label | uppercase }}
        </option>
      </select>
    </div>

    <div class="checkbox-list subtitle" id="sugar_role" ngModelGroup="roles">ROLE:
      <span *ngFor="let role of roles; trackBy: trackByFn">
        <label><input type="checkbox" [(ngModel)]="role.checked" [name]="role.name">{{ role.name }}
        </label>
      </span>
    </div>

    <div class="checkbox-list subtitle" id="sugar_departement" ngModelGroup="services">SERVICE:
      <span *ngFor="let service of services ; trackBy: trackByFn">
        <label>
          <input
          [id]="service.id"
          type="checkbox"
          [name]="service.id"
          [(ngModel)]="service.checked"
          (ngModelChange)="onServiceChecked(service, $event)"
          >{{ service.name }}
        </label>
      </span>
    </div>

    <div [hidden]="hideLeads">
      <label>Leads min
        <input
        type="number"
        name="leadsMin"
        [(ngModel)]="currentUser.leadsMin">
      </label>
    </div>

    <div [hidden]="hideLeads">
      <label>Leads max
        <input
        type="number"
        name="leadsMax"
        [(ngModel)]="currentUser.leadsMax">
      </label>
    </div>
  </fieldset>
</div>
