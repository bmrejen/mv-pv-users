<h2>{{ filter }} users: {{ filteredUsers.length }}</h2>

<button (click)="filterUsers('active')">Actifs</button>
<button (click)="filterUsers('inactive')">Inactifs</button>
<button (click)="filterUsers('all')">Tous</button>
<br><br>
<button routerLink="/create">Nouvel utilisateur</button>
<span *ngIf="selectedUsers.length != 0">
    <button (click)="disableUsers()">Disable</button>
</span>

<div>Sugar: {{ messages.sugar }}</div>
<div>Google: {{ messages.google }}</div>
<div>Jamespot: {{ messages.jamespot }}</div>

<table *ngIf="filteredUsers && filteredUsers != null">
    <thead>
        <tr>
            <th></th>
            <th>Mr/Mme</th>
            <th>First name</th>
            <th>Last name</th>
            <th>Departement</th>
            <th>Sugar ID</th>
            <th>Status</th>
            <th>Employee Status</th>
            <th>Manager</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let user of filteredUsers; trackBy: trackByFn">
            <td>
                <label>
                    <input
                        type="checkbox"
                        (click)="handleClick(user)"
                        [name]="user"
                        [(ngModel)]="user.isChecked"
                    >
                </label>
            </td>
            <!-- Refactor with template or ng-container -->
            <td [routerLink]="['/users', user.sugarCurrentUser.id]">{{ user.sugarCurrentUser.salutation }}</td>
            <td [routerLink]="['/users', user.sugarCurrentUser.id]">{{ user.common.firstName }}</td>
            <td [routerLink]="['/users', user.sugarCurrentUser.id]">{{ user.common.lastName }}</td>
            <td [routerLink]="['/users', user.sugarCurrentUser.id]">{{ user.sugarCurrentUser.department }}</td>
            <td [routerLink]="['/users', user.sugarCurrentUser.id]">{{ user.sugarCurrentUser.id }}</td>
            <td [routerLink]="['/users', user.sugarCurrentUser.id]">{{ user.sugarCurrentUser.status }}</td>
            <td [routerLink]="['/users', user.sugarCurrentUser.id]">{{ user.sugarCurrentUser.employeeStatus }}</td>
            <td [routerLink]="['/users', user.sugarCurrentUser.id]">{{ mapIdToUser(user.sugarCurrentUser.managerId) }}
            </td>

        </tr>
    </tbody>
</table>
